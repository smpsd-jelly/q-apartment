<div class="row p-0 pt-5 mt-5" id="top">
    <div class="d-flex justify-content-center text-title mt-5">{{title}} </div>
    <div class="d-flex justify-content-between mt-2 ">
        <button class="btn-back" (click)="backToAllBills()"><i class="fa-solid fa-chevron-left"></i> ย้อนกลับ</button>
        <!-- <a class="btn-link" href="https://drive.google.com/u/0/uc?id=14WonbQ0TGu-ktqoPZ-aMdV8N9Ji_xOc3&export=download"
            download target="_blank">ดาวน์โหลดฟอร์ม</a> -->
    </div>
    <div class="content">
        <!-- <div class="row d-flex justify-content-center align-items-center margin">
            <div class="col-lg-auto col-md-12  col-sm-12 col-12  mb-3 form-center"> <label
                    class="text-in-content mt-2 me-3">เลือกตึก</label>
                <label><select class="form-select">
                        <option value="0">เลือกตึก</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select></label>
            </div>
            <div class="col-lg-auto col-md-12  col-sm-12 col-12  mb-3 form-center">
                <label class="text-in-content mt-2 me-3">เลือกห้อง</label>
                <label><select class="form-select">
                        <option value="0">เลือกห้อง</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select></label>
            </div>
        </div> -->

        <div class="row d-flex justify-content-center align-items-center margin">

            <div class="col-lg-auto col-md-12  col-sm-12 col-12  mb-3 form-center">
                <label class="text-in-content mt-2 me-3">เลือกเดือน <span class="text-danger ms-1">*</span></label>
                <label><input class="form-control" type="month" name="month_year" [(ngModel)]="month_year"></label>
            </div>
        </div>

        <!-- <div class="row d-flex justify-content-center align-items-center">
            <div class="col-lg-auto col-md-12  col-sm-12 col-12  mb-3 form-center">
                <label class="text-in-content mt-2 me-3">อัพโหลดไฟล์ .CSV</label>
            </div>
            <div class="col-lg-auto col-md-12  col-sm-12 col-12  mb-3 form-center">
                <label><input class="form-control" type="file"></label>
            </div>
        </div> -->
        <div class="row mt-3">
            <div class="col-lg-auto col-md-12 col-sm-12 margin-top-form2 center">
                <button type="button" (click)="addMeter()" class="add-btn mb-3">
                    <i class="fa-solid fa-plus"></i> เพิ่ม 1 บันทึกเลขมิเตอร์
                </button>
            </div>
            <div class="col-lg-auto col-md-auto col-sm-12 col-12 text-in-content mt-2  ms-5 center">
                เพิ่มแบบระบุเลข
            </div>
            <div class="col-lg-auto col-md-auto col-sm-8 col-8 margin-top-form">
                <input type="number" class="form-control ms-2" placeholder="ใส่จำนวนที่ต้องการเพิ่ม"
                    [(ngModel)]="btnAddMeter">
            </div>

            <div class="col-lg-auto col-md-auto col-sm-12 col-12 margin-top-form">
                <button type="button" (click)="addMeter20()" class="add-btn mb-3">
                    <i class="fa-solid fa-plus"></i> เพิ่ม
                </button>
            </div>
        </div>


        <div class=" p-2">
            <div class="frame mb-2" *ngFor="let item of billsData; let i = index">
                <div class="row">

                </div>
                <div class="row mt-2">
                    <div class="col-lg-1 col-sm-12 mt-2  d-flex justify-content-center">
                        <span class="text-bold">[ {{i+1}} ]</span>
                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end">
                        ตึก
                    </div>
                    <div class="col-lg-auto col-sm-8 col-sm-12 mb-2">
                        <select class="form-select form-control" [(ngModel)]="item.building">
                            <option value="1">ตึก 1</option>
                            <option value="2">ตึก 2</option>
                            <option value="3">ตึก 3</option>
                        </select>
                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end ">
                        เลขห้อง
                    </div>
                    <div class="col-lg-auto col-md-8 col-sm-12 mb-2 ">
                        <!-- <input type="text" placeholder="เลขห้อง" [(ngModel)]="item.room_num"
                                class="form-control" /> -->
                        <select name="" class="form-select" [(ngModel)]="item.room_id" [disabled]="!item.building">
                            <option *ngFor="let room of selectBuilding(item.building)" [value]="room.room_id" >{{room.room_num}}</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-1 d-flex justify-content-center">

                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end">
                        เลขมิเตอร์ค่าไฟ (เดือนที่ผ่านมา)
                    </div>
                    <div class="col-lg-auto col-md-8 col-sm-12 mb-2">
                        <input type="number" placeholder="เลขมิเตอร์ไฟเดือนที่ผ่านมา" [(ngModel)]="item.electric_lastmonth"
                            class="form-control" />
                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end">
                        เลขมิเตอร์ค่าไฟ (เดือนนี้)
                    </div>
                    <div class="col-lg-auto col-md-8 col-sm-12 col-md-3 mb-2">
                        <input type="number" placeholder="เลขมิเตอร์ไฟเดือนนี้" [(ngModel)]="item.electric_current"
                            class="form-control" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-1 d-flex justify-content-center">

                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end">
                        เลขมิเตอร์ค่าน้ำ (เดือนที่ผ่านมา)
                    </div>
                    <div class="col-lg-auto col-md-8 col-sm-12 mb-2">
                        <input type="number" placeholder="เลขมิเตอร์น้ำเดือนที่ผ่านมา" [(ngModel)]="item.water_lastmonth"
                            class="form-control" />
                    </div>
                    <div class="col-lg-2 mt-2 text-lg-end">
                        เลขมิเตอร์ค่าน้ำ (เดือนนี้)
                    </div>
                    <div class="col-lg-auto col-md-8 col-sm-12 mb-2">
                        <input type="number" placeholder="เลขมิเตอร์น้ำเดือนนี้" [(ngModel)]="item.water_current"
                            class="form-control" />
                    </div>
                </div>

                <div class="d-flex justify-content-end col-lg-12" *ngIf="billsData.length > 0">
                    <button type="button" (click)="removeMeter(i)" class=" btn-delect  ms-1">
                        <i class="fa-solid fa-trash-can"></i>
                    </button>
                </div>
            </div>
        </div>


        <div class="row mt-4" *ngIf="billsData.length >= 3">
            <div class="col-auto">
                <button type="button" (click)="addMeter()" class="add-btn mb-3">
                    <i class="fa-solid fa-plus"></i> เพิ่ม 1 บันทึกเลขมิเตอร์
                </button>
            </div>
            <div class="col-auto text-in-content mt-2 ms-5">
                เพิ่มแบบระบุเลข
            </div>
            <div class="col-auto">
                <input type="number" class="form-control ms-2" placeholder="ใส่จำนวนที่ต้องการเพิ่ม"
                    [(ngModel)]="btnAddMeter">
            </div>

            <div class="col-auto">
                <button type="button" (click)="addMeter20()" class="add-btn mb-3">
                    <i class="fa-solid fa-plus"></i> เพิ่ม
                </button>
            </div>
        </div>




        <!-- <div class="d-flex justify-content-center align-items-center mb-5 mt-5 pt-3"><button class="btn-confirm"
                (click)="test()" (click)="confirmBtn()"><i class="fa-solid fa-check"></i> Confirm</button></div> -->

        <div class="d-flex justify-content-center align-items-center mb-5 mt-5 pt-3"><button class="btn-confirm"
                (click)="confirmBtn()"><i class="fa-solid fa-check"></i> Confirm</button></div>



    </div>
</div>

<div>
    <a href="admin/meter-page#top">
        <button class="btn  iconToTheTop circle" data-toggle="button"><i class="fa-solid fa-chevron-up"></i></button>
    </a>
</div>